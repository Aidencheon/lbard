echo "#define VERSION_STRING \""`./md5 src/main.c src/timeaccount.c src/succinct/stun.c src/rhizome/rhizome.c src/rhizome/bundle_cache.c src/rhizome/json.c src/rhizome/peers.c src/rhizome/rank.c src/rhizome/bundles.c src/rhizome/manifest_compress.c src/rhizome/meshms.c src/rhizome/otaupdate.c src/fec/golay.c src/fec/fec-3.0.1/ccsds_tables.c src/fec/fec-3.0.1/encode_rs_8.c src/fec/fec-3.0.1/init_rs_char.c src/fec/fec-3.0.1/decode_rs_8.c src/http/httpd.c src/http/httpclient.c src/status/progress.c src/status/monitor.c src/status/status_dump.c src/status/rssi.c src/energy_experiment.c src/crypto/sha1.c src/crypto/sha3.c src/eeprom/eeprom.c src/util.c src/xfer/progress_bitmaps.c src/xfer/txmessages.c src/xfer/rxmessages.c src/xfer/serial.c src/xfer/radio.c src/xfer/partials.c src/sync/bundle_tree.c src/sync/sync.c src/xfer/radio_types.c src/drivers/drv_*.c src/hf/ale.c src/hf/config.c src/xfer/message_handlers.c src/messages/*.c `"\"" >include/version.h
echo "#define GIT_VERSION_STRING \""`git describe --always --abbrev=10 --dirty=+DIRTY`"\"" >>include/version.h
echo "#define GIT_BRANCH \""`git rev-parse --abbrev-ref HEAD`"\"" >>include/version.h
echo "#define BUILD_DATE \""`date`"\"" >>include/version.h
cc -g -std=gnu99 -Wall -fno-omit-frame-pointer -D_GNU_SOURCE=1 -Iinclude -Isrc/fec -Isrc -o lbard src/main.c src/timeaccount.c src/succinct/stun.c src/rhizome/rhizome.c src/rhizome/bundle_cache.c src/rhizome/json.c src/rhizome/peers.c src/rhizome/rank.c src/rhizome/bundles.c src/rhizome/manifest_compress.c src/rhizome/meshms.c src/rhizome/otaupdate.c src/fec/golay.c src/fec/fec-3.0.1/ccsds_tables.c src/fec/fec-3.0.1/encode_rs_8.c src/fec/fec-3.0.1/init_rs_char.c src/fec/fec-3.0.1/decode_rs_8.c src/http/httpd.c src/http/httpclient.c src/status/progress.c src/status/monitor.c src/status/status_dump.c src/status/rssi.c src/energy_experiment.c src/crypto/sha1.c src/crypto/sha3.c src/eeprom/eeprom.c src/util.c src/xfer/progress_bitmaps.c src/xfer/txmessages.c src/xfer/rxmessages.c src/xfer/serial.c src/xfer/radio.c src/xfer/partials.c src/sync/bundle_tree.c src/sync/sync.c src/xfer/radio_types.c src/drivers/drv_*.c src/hf/ale.c src/hf/config.c src/xfer/message_handlers.c src/messages/*.c  
